<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // 简易版
    function fib(n) {
      if (n == 1 || n == 2) return 1;
      return fib(n - 1) + fib(n - 2);
    }
    console.log(fib(6));
    // 改良版
    function fib2(n, memo) {
      if (n == 1 || n == 2) return 1;
      if (memo[n]) return memo[n]
      return memo[n] = fib2(n - 1, memo) + fib2(n - 2, memo);
    }
    console.log(fib2(6, []));
    // 数组版
    function fib3(n) {
      var arr = [1, 1]
      for (let i = 2; i < n; i++) {
        arr[i] = arr[i - 1] + arr[i - 2]
      }
      return arr[n - 1]
    }
    console.log(fib3(6));
    // 最终版
    function fib4(n) {
      if (n == 1 || n == 2) return 1
      var prev = 1
      var cur = 1
      var sum = 0
      for (let i = 3; i <= n; i++) {
        sum = prev + cur
        prev = cur
        cur = sum
      }
      return cur
    }
    console.log(fib4(6));
  </script>
</body>

</html>